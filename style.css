html {
    height: 100%;
    margin: 0;
    padding: 0;
    overflow-x: hidden;
}

body {
    margin: 0;
    padding: 0;
    font-family: Arial, sans-serif;
    background: #f0f3f7;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    position: relative;
    overflow-x: hidden;
    width: 100%;
    max-width: 100vw;
}

header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: #003366;
    color: white;
    padding: 15px 12px;
    position: relative;
    z-index: 60;
    gap: 12px;
    width: 100%;
    max-width: 100vw;
    box-sizing: border-box;
    overflow-x: hidden;
}

header h1 {
    flex: 1;
    text-align: center;
    margin: 0;
    font-size: 24px;
    font-weight: 700;
    line-height: 1.4;
    word-wrap: break-word;
    overflow-wrap: break-word;
    hyphens: auto;
    letter-spacing: 0.5px;
}

header a {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    line-height: 0;
    flex-shrink: 0;
}

.logo {
    min-height: 36px; 
    width: 70px;
    height: auto;
    cursor: pointer;
    transition: opacity 0.3s ease;
}

.logo:hover {
    opacity: 0.8;
}

.ticker {
  width: 100%;
  max-width: 100vw;
  overflow: hidden;
  background: white;
  padding: 8px 0;
  position: relative;
  box-sizing: border-box;
}

#main-bg {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: -1; 
    background-image: url('bg_tdr_site.png'); 
    background-size: cover;
    background-position: center center;
    background-repeat: no-repeat;
    filter: saturate(0.95) contrast(1.02) brightness(0.98);
    opacity: 0.95;
    pointer-events: none;
}

main, #tdr-dashboard, #tdr-form, #resultBox {
    position: relative;
    z-index: 2;
}

.language-switch, #analytics-banner, #tdr-form, #tdr-dashboard, #resultBox {
    position: relative;
    z-index: 2;
}

.ticker, #analytics-banner, #tdr-form {
    flex-shrink: 0;
}

.marquee {
  display: inline-block;
  white-space: nowrap;
  animation: tickerMove 15s linear infinite;
}

.marquee p {
  color: black;
  font-size: 18px;
  margin: 0;
  padding-left: 100%;
}

@keyframes tickerMove {
  0% { transform: translateX(100%); }
  100% { transform: translateX(-100%); }
}

.language-switch {
    text-align: center;
    margin: 15px 0;
    width: 100%;
    max-width: 100vw;
    box-sizing: border-box;
    overflow-x: hidden;
}

.language-switch button {
    padding: 10px 14px;
    background: #003366;
    border: none;
    margin: 5px;
    color: white;
    border-radius: 5px;
    cursor: pointer;
    width: 120px;
    height: 42px;
    box-sizing: border-box;
    text-align: center;
    font-size: 14px;
    font-weight: 500;
    font-family: Arial, sans-serif;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    line-height: 1;
    vertical-align: middle;
}

.language-switch button:hover {
    background: #0055aa;
}

#tdr-dashboard {
    margin: 20px;
}
.pie-container {
    width: 100%;
    max-width: 600px;
    margin: 10px auto;
}

.pie-container canvas {
    width: 100% !important;
    height: auto !important;
}
    
#tdrTable {
    width: 100%;
    border-collapse: collapse;
    background: white;
    border-radius: 6px;
    overflow: hidden;
}

#tdrTable th {
    background: #003366;
    color: white;
    padding: 10px;
}

#tdrTable td {
    padding: 10px;
    border-bottom: 1px solid #ddd;
}

#tdr-form {
    margin: 20px;
    padding: 20px;
    background: white;
    border-radius: 8px;
    border: 1px solid rgba(15, 25, 35, 0.07);
    box-shadow: 0 6px 18px rgba(10,20,40,0.06);
    flex: 1;
    width: calc(100% - 40px);
    max-width: calc(100vw - 40px);
    box-sizing: border-box;
    overflow-x: hidden;
}

#tdr-form input {
    width: 100%;
    padding: 5px 6px; 
    font-size: 13px; 
    margin-top: 5px;
    border: 1px solid #e0e9ef; 
    border-radius: 4px;
}

#tdr-form input:focus {
    outline: none;
    border-color: rgba(11,102,255,0.9);
    box-shadow: 0 6px 18px rgba(11,102,255,0.12);
}

#tdr-form h3 {
    margin-bottom: 12px;
}

#tdr-form button {
    margin-top: 8px;
    width: 100%;
    padding: 8px;
    background: #003366;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
}

#tdr-form button:hover {
    background: #0055aa;
}

.pdf-btn {
    display: inline-block;
    padding: 6px 12px;
    background: #003366;
    color: white;
    font-size: 13px;
    border-radius: 5px;
    text-decoration: none;
}

.pdf-btn:hover {
    background: #0055aa;
}

.chart-row {
    display: flex;
    gap: 18px;
    justify-content: space-between;
    align-items: flex-start;
    margin: 8px 20px;
}

#analytics-banner {
    padding: 20px;
    background: transparent;
    display: flex;
    justify-content: center;
    width: 100%;
    max-width: 100vw;
    box-sizing: border-box;
    overflow-x: hidden;
}
.analytics-banner-inner {
    width: 100%;
    max-width: 1100px;
    margin: 0 auto;
    background: linear-gradient(135deg, rgba(2,136,209,0.08), rgba(255,152,0,0.09));
    padding: 24px;
    border-radius: 16px;
    display:flex;
    flex-wrap: wrap;
    align-items:center;
    justify-content:center;
    gap:32px;
    box-shadow: 0 8px 18px rgba(0,0,0,0.08);
}
.analytics-chart-block {
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:12px;
}
.analytics-chart-block h4 {
    margin: 0;
    font-size: 16px;
    letter-spacing: 0.5px;
    color:#003366;
    text-align:center;
}
.analytics-chart-wrapper {
    width: 280px;
    height: 280px;
    display:flex;
    align-items:center;
    justify-content:center;
    background: transparent;
}
.analytics-chart-wrapper canvas {
    width: 100% !important;
    height: 100% !important;
    border-radius: 8px;
}
.analytics-description {
    display:flex;
    flex-direction:column;
    gap:16px;
    min-width: 240px;
}
.summary-item {
    display:flex;
    align-items:center;
    gap:14px;
    padding: 12px 16px;
    border-radius: 12px;
    background: rgba(255,255,255,0.92);
    box-shadow: 0 6px 14px rgba(12,31,51,0.08);
}
.legend-dot {
    width: 14px;
    height: 14px;
    border-radius: 50%;
    display:inline-block;
}
.legend-dot--total { background:#2e7d32; }
.legend-dot--used { background:#ff9800; }
.legend-dot--available { background:#0288d1; }
.summary-label {
    margin: 0;
    font-size: 12px;
    text-transform: uppercase;
    letter-spacing: 0.6px;
    color:#6d7787;
}
.summary-value {
    margin: 2px 0 0;
    font-size: 18px;
    font-weight: 700;
    color:#0c1f33;
}
.summary-item--total .summary-value { color:#2e7d32; }
.summary-item--used .summary-value { color:#ff9800; }
.summary-item--available .summary-value { color:#0288d1; }

#resultActions { 
    display: flex; 
    gap: 12px; 
    margin-top: 20px;
    margin-bottom: 20px;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
}

#resultActions button {
    padding: 12px 24px;
    background: #003366;
    color: white;
    border-radius: 6px;
    border: none;
    cursor: pointer;
    font-size: 14px;
    font-weight: 500;
    transition: all 0.3s ease;
    min-width: 150px;
    box-shadow: 0 2px 8px rgba(0,51,102,0.2);
}

#resultActions button:hover {
    background: #0055aa;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0,51,102,0.3);
}

#resultActions button:active {
    transform: translateY(0);
}

#uploadBtn { 
    padding: 6px 10px; 
    background: #007bff; 
    color: white; 
    border-radius: 6px; 
    border: none; 
    cursor: pointer; 
}

#uploadBtn:hover { 
    background: #006ae6;
}

.pie-container.analytics {
    flex: 1 1 48%;
    background: white;
    padding: 12px;
    border-radius: 8px;
}

.pie-container > h4 { margin: 0 0 6px; font-size: 14px; color: #003366; text-align:center }

#resultBox {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    margin-top: 20px;
}

#resultTable {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
    background: white;
    min-width: 600px;
}

#resultTable th {
    background: #003366;
    color: white;
    padding: 10px;
    text-align: left;
    border: 1px solid #ddd;
}

#resultTable .pre-header-row td {
    background: #f0f3f7;
    color: #003366;
    font-weight: bold;
    font-size: 16px;
    padding: 12px;
    text-align: center;
    border: 1px solid #ddd;
}

#resultTable td {
    padding: 10px;
    border: 1px solid #ddd;
    background: #fafafa;
    text-align: left;
}

/* Right align numeric columns */
#resultTable td:has(> *:only-child) {
    text-align: right;
}

#resultTable tbody tr td {
    text-align: left;
}

/* Detect and right-align cells with numeric content */
#resultTable tbody tr td[data-numeric="true"],
#resultTable tbody tr td.numeric-cell {
    text-align: right;
}

.form-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 16px;
    align-items: start; 
    justify-items: stretch;
}

.form-item {
    display: flex;
    flex-direction: column;
    align-items: flex-start; 
    text-align: left;
    width: 100%;
}

.form-item label {
    font-weight: 600;
    font-size: 13px;
    display: block;
    margin-bottom: 6px;
    text-align: left;
    width: 100%;
}

.form-item input[readonly] {
    background: #f7f9fb;
    color: #222;
}

.form-item input,
.form-item input[readonly] {
    min-height: 28px;
    font-size: 13px;
    width: 100%;
}

.form-item.name-item input,
.form-item.location-item input,
.form-item.tdr-item input,
.form-item.remaining-item input,
.form-item.rr-item input {
    padding: 4px 6px;
}

.sr-inline { display:flex; gap:8px; align-items:center }
.sr-inline input { width: 100%; padding:5px }
.sr-inline button { display:none }
.sr-item input { width: 100%; }

/* Center the mohalla dropdown and make it bigger */
.form-item.sr-item {
    grid-column: 1 / -1;
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    max-width: 100%;
    overflow: hidden;
}

.form-item.sr-item label {
    text-align: center;
    width: 100%;
    margin-bottom: 4px;
    font-size: 20px;
    font-weight: 700;
    line-height: 2.2;
    padding-top: 6px;
    padding-bottom: 4px;
    overflow: visible;
}

#mohallaSelect {
    width: 100%;
    max-width: 250px;
    padding-top: 12px !important;
    padding-bottom: 12px !important;
    padding-left: 16px !important;
    padding-right: 40px !important;
    font-size: 14px;
    line-height: 2.2 !important;
    height: auto;
    min-height: 50px !important;
    border: 1px solid #e0e9ef;
    border-radius: 4px;
    margin-top: 0px;
    box-sizing: border-box !important;
    overflow: hidden !important;
    vertical-align: top;
    appearance: none !important;
    -webkit-appearance: none !important;
    -moz-appearance: none !important;
    background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23333' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e") !important;
    background-repeat: no-repeat !important;
    background-position: right 12px center !important;
    background-size: 16px !important;
    background-color: white !important;
}

#mohallaSelect option {
    font-size: 16px !important;
    line-height: 1.8 !important;
    padding: 12px 10px !important;
    height: auto !important;
    min-height: 44px !important;
    max-width: 100vw !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    white-space: normal !important;
    word-wrap: break-word !important;
}

#mohallaSelect:focus {
    outline: none;
    border-color: rgba(11,102,255,0.9);
    box-shadow: 0 6px 18px rgba(11,102,255,0.12);
}
.submit-item button {
    padding: 8px 12px;
    width: 100%;
}

/* Mobile Responsive Styles */
@media (max-width: 768px) {
    body {
        overflow-x: hidden;
        max-width: 100vw;
    }
    
    header {
        padding: 10px 8px;
        flex-wrap: nowrap;
        justify-content: space-between;
        align-items: center;
        gap: 8px;
        max-width: 100vw;
    }
    
    header h1 {
        font-size: 16px;
        font-weight: 700;
        margin: 0;
        text-align: center;
        flex: 1;
        order: 2;
        line-height: 1.4;
        word-wrap: break-word;
        overflow-wrap: break-word;
        hyphens: auto;
        padding: 0 4px;
        letter-spacing: 0.3px;
    }
    
    header a {
        flex-shrink: 0;
    }
    
    header a:first-child {
        order: 1;
    }
    
    header a:last-child {
        order: 3;
    }
    
    .logo {
        width: 50px;
        min-height: 30px;
    }

    .marquee p {
        font-size: 16px;
    }
    
    .language-switch {
        margin: 10px 0;
    }
    
    .language-switch button {
        padding: 8px 12px;
        font-size: 13px;
        width: 110px;
        height: 38px;
        font-weight: 500;
    }

    #analytics-banner {
        padding: 15px 10px;
    }
    
    .analytics-banner-inner {
        padding: 16px;
        gap: 20px;
    }
    
    .analytics-chart-wrapper {
        width: 240px;
        height: 240px;
    }
    
    .analytics-description {
        min-width: 100%;
        width: 100%;
    }

    #tdr-form {
        margin: 10px;
        padding: 15px;
        width: calc(100% - 20px);
        max-width: calc(100vw - 20px);
    }
    
    #tdr-form h3 {
        font-size: 16px;
        margin-bottom: 10px;
    }

    #tdrTable,
    #resultTable {
        display: block;
        overflow-x: auto;
        white-space: nowrap;
        -webkit-overflow-scrolling: touch;
    }
    
    #tdrTable th,
    #tdrTable td,
    #resultTable th,
    #resultTable td {
        padding: 8px 6px;
        font-size: 12px;
    }
    
    #resultTable .pre-header-row td {
        font-size: 14px;
        padding: 10px;
    }

    .form-grid {
        grid-template-columns: 1fr;
        gap: 12px;
    }
    
    .sr-item input {
        max-width: 100%;
    }
    
    .form-item.name-item input,
    .form-item.location-item input,
    .form-item.tdr-item input,
    .form-item.remaining-item input,
    .form-item.rr-item input {
        max-width: 100%;
    }

    .chart-row {
        flex-direction: column;
        margin: 8px 10px;
        gap: 12px;
    }
    
    .pie-container.analytics {
        flex: 1 1 100%;
    }
}

@media (max-width: 600px) {
    header {
        padding: 8px 6px;
        gap: 6px;
    }
    
    .logo {
        width: 40px;
        min-height: 25px;
    }
    
    header h1 {
        font-size: 14px;
        font-weight: 700;
        line-height: 1.4;
        padding: 0 3px;
        letter-spacing: 0.2px;
    }
    
    .marquee p {
        font-size: 14px;
    }
    
    .ticker {
        padding: 6px 0;
    }
    
    .language-switch button {
        padding: 7px 10px;
        font-size: 13px;
        margin: 3px;
        width: 100px;
        height: 36px;
        font-weight: 500;
    }
    
    #mohallaSelect {
        max-width: 100%;
        width: 100%;
        padding: 11px 13px;
        font-size: 14px;
        min-height: 48px;
        background-position: right 9px center !important;
        background-size: 13px !important;
        overflow: hidden !important;
    }
    
    #mohallaSelect option {
        font-size: 16px !important;
        padding: 10px 8px !important;
        line-height: 1.6 !important;
        min-height: 40px !important;
        max-width: 100% !important;
        overflow: hidden !important;
        text-overflow: ellipsis !important;
        white-space: normal !important;
        word-wrap: break-word !important;
    }
    
    #analytics-banner {
        padding: 12px 8px;
    }
    
    #resultActions {
        flex-direction: column;
        gap: 8px;
        margin-top: 12px;
        margin-bottom: 12px;
    }
    
    #resultActions button {
        width: 100%;
        min-width: auto;
        padding: 10px 16px;
        font-size: 13px;
    }
    
    .analytics-banner-inner {
        padding: 12px;
        gap: 16px;
        border-radius: 12px;
    }
    
    .analytics-chart-wrapper {
        width: 200px;
        height: 200px;
    }
    
    .analytics-chart-block h4 {
        font-size: 14px;
    }
    
    .summary-item {
        padding: 10px 12px;
        gap: 10px;
    }
    
    .summary-label {
        font-size: 11px;
    }
    
    .summary-value {
        font-size: 16px;
    }
    
    #tdr-form {
        margin: 8px;
        padding: 12px;
        width: calc(100% - 16px);
        max-width: calc(100vw - 16px);
    }
    
    #tdr-form h3 {
        font-size: 14px;
        line-height: 1.4;
    }
    
    .form-item.sr-item label {
        font-size: 18px;
        margin-bottom: 8px;
        line-height: 2.2;
    }
    
    #mohallaSelect {
        max-width: 100%;
        width: 100%;
        padding: 12px 14px;
        font-size: 14px;
        line-height: 2.2;
        min-height: 50px;
        background-position: right 10px center !important;
        background-size: 14px !important;
        overflow: hidden !important;
    }
    
    #mohallaSelect option {
        font-size: 16px !important;
        padding: 10px 8px !important;
        line-height: 1.6 !important;
        min-height: 40px !important;
        max-width: 100% !important;
        overflow: hidden !important;
        text-overflow: ellipsis !important;
        white-space: normal !important;
        word-wrap: break-word !important;
    }

    #tdrTable th,
    #tdrTable td,
    #resultTable th,
    #resultTable td {
        padding: 6px 4px;
        font-size: 11px;
    }
    
    #resultTable .pre-header-row td {
        font-size: 12px;
        padding: 8px;
    }

    #resultActions {
        flex-direction: row;
        gap: 10px;
        margin-top: 15px;
        margin-bottom: 15px;
    }
    
    #resultActions button {
        min-width: 130px;
        padding: 10px 20px;
        font-size: 13px;
    }
}

@media (max-width: 480px) {
    header {
        padding: 6px 4px;
        gap: 4px;
    }
    
    .logo {
        width: 32px;
        min-height: 20px;
    }
    
    header h1 {
        font-size: 12px;
        font-weight: 700;
        line-height: 1.3;
        padding: 0 2px;
        letter-spacing: 0.2px;
    }
    
    .marquee p {
        font-size: 13px;
    }
    
    .language-switch button {
        padding: 6px 8px;
        font-size: 12px;
        width: 90px;
        height: 34px;
        font-weight: 500;
    }
    
    #analytics-banner {
        padding: 10px 6px;
    }
    
    .analytics-banner-inner {
        padding: 10px;
    }
    
    #resultActions {
        flex-direction: column;
        gap: 8px;
        margin-top: 10px;
        margin-bottom: 10px;
    }
    
    #resultActions button {
        width: 100%;
        min-width: auto;
        padding: 9px 14px;
        font-size: 12px;
    }
    
    .analytics-chart-wrapper {
        width: 180px;
        height: 180px;
    }
    
    #tdr-form {
        margin: 6px;
        padding: 10px;
        width: calc(100% - 12px);
        max-width: calc(100vw - 12px);
    }
    
    .form-item.sr-item label {
        font-size: 16px;
        line-height: 2.2;
    }
    
    #mohallaSelect {
        max-width: 100%;
        width: 100%;
        padding: 10px 12px;
        font-size: 14px;
        line-height: 2.2;
        min-height: 48px;
        background-position: right 8px center !important;
        background-size: 12px !important;
        padding-right: 32px !important;
        overflow: hidden !important;
    }
    
    #mohallaSelect option {
        font-size: 16px !important;
        padding: 10px 8px !important;
        line-height: 1.6 !important;
        min-height: 40px !important;
        max-width: 100% !important;
        overflow: hidden !important;
        text-overflow: ellipsis !important;
        white-space: normal !important;
        word-wrap: break-word !important;
    }

    #tdrTable th,
    #tdrTable td,
    #resultTable th,
    #resultTable td {
        padding: 5px 3px;
        font-size: 10px;
    }
    
    #resultTable .pre-header-row td {
        font-size: 11px;
        padding: 7px;
    }
}

.table-wrapper {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    margin: 10px 0;
}

@media (max-width: 768px) {
    #resultBox {
        overflow-x: auto;
        margin-top: 15px;
    }
    
    #resultTable {
        min-width: 500px;
    }
    
    #tdr-dashboard {
        margin: 10px;
        overflow-x: auto;
    }
    
    #tdrTable {
        min-width: 600px;
    }
}

@media (max-width: 480px) {
    #resultTable {
        min-width: 400px;
    }
    
    #tdrTable {
        min-width: 500px;
    }
}
footer {
    background: #003366;
    color: white;
    padding: 15px 20px;
    margin-top: auto;
    position: relative;
    z-index: 60;
    width: 100%;
    max-width: 100vw;
    flex-shrink: 0;
    bottom: 0;
    left: 0;
    right: 0;
    box-sizing: border-box;
    overflow-x: hidden;
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 20px;
}

.footer-left {
    flex: 1;
    text-align: left;
}

.footer-right {
    display: flex;
    align-items: center;
    gap: 10px;
    flex-shrink: 0;
}

footer p {
    margin: 0;
    font-size: 12px;
    font-weight: 400;
    line-height: 1.4;
}

#copyrightText {
    font-size: 11px;
}

footer a {
    display: inline-flex;
    align-items: center;
    line-height: 0;
}

.footer-logo {
    max-width: 70px;
    height: auto;
    cursor: pointer;
    transition: opacity 0.3s ease;
}

.footer-logo:hover {
    opacity: 0.8;
}

@media (max-width: 768px) {
    body {
        min-height: 100vh;
    }
    
    footer {
        padding: 12px 15px;
        margin-top: auto;
        margin-bottom: 0;
        gap: 15px;
    }
    
    footer p {
        font-size: 11px;
        margin: 0;
    }
    
    #copyrightText {
        font-size: 10px;
    }
    
    .footer-logo {
        max-width: 60px;
    }
}

@media (max-width: 600px) {
    footer {
        flex-direction: column;
        padding: 12px;
        margin-bottom: 0;
        gap: 10px;
        text-align: center;
    }
    
    .footer-left {
        text-align: center;
    }
    
    .footer-right {
        flex-direction: column;
        gap: 6px;
    }
    
    footer p {
        font-size: 10px;
        margin: 0;
    }
    
    #copyrightText {
        font-size: 9px;
    }
    
    .footer-logo {
        max-width: 55px;
    }
}

@media (max-width: 480px) {
    footer {
        padding: 10px;
        margin-bottom: 0;
        gap: 8px;
    }
    
    footer p {
        font-size: 10px;
        margin: 0;
    }
    
    #copyrightText {
        font-size: 10px;
    }
    
    .footer-logo {
        max-width: 50px;
    }
}
